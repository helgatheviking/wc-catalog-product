/*! WC Catalog Product 0.1.0 2017-03-03 13:28 */
!function(a){a(".wc_catalog_create").on("click keyup",function(b){if("click"==b.type||13==b.keyCode){b.preventDefault();var c=a(this).closest(".wc-catalog-form"),d=c.find(".catalog_table"),e=c.find('input[name="wp_catalog_product_nonce_field"]').val(),f=c.find('input[name="product_id"]').val(),g=c.find('input[type="checkbox"][name="catalog_merge_ids\\[\\]"]:checked').map(function(){return this.value}).get(),h=c.find('button[type="submit"]'),i=h.next(".spinner");a.ajax({url:wc_catalog_product_params.ajaxurl,type:"POST",data:{action:"wc_create_catalog",product_id:f,catalog_merge_ids:g,nonce:e},beforeSend:function(a){i.css("display","inline-block"),h.prop("disabled",!0),c.addClass("processing").block()},success:function(b){a(".woocommerce-error").remove();var b=jQuery.parseJSON(b);b&&1==b.status&&(url="?custom_catalog="+b.file_name,a("<iframe />",{id:url,src:url}).appendTo("body")),"undefined"!=b.notices&&a(b.notices).each(function(b,c){$message=a("<div />",{class:"pdfmerger-notice"}).insertAfter(d).addClass(c.type).html(c.message).fadeIn()})}}).done(function(){i.css("display","none"),c.removeClass("processing").unblock(),h.prop("disabled",!1)})}})}(jQuery);